{
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -688,
        -32
      ],
      "id": "7c0875f9-9e96-4132-8b38-289197ec1340",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "cityName": "Warsaw",
        "language": "pl"
      },
      "type": "n8n-nodes-base.openWeatherMap",
      "typeVersion": 1,
      "position": [
        -464,
        -32
      ],
      "id": "853fdff9-520d-4568-acad-c7566fe077a5",
      "name": "OpenWeatherMap",
      "credentials": {
        "openWeatherMapApi": {
          "id": "fbmvVvO43FqUbUSn",
          "name": "OpenWeatherMap account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const w = $json;\n\nreturn {\n  message: `\nPogoda dla miasta ${w.name}:\n\nğŸŒ¤ Opis: ${w.weather[0].description}\nğŸŒ¡ Temperatura: ${w.main.temp}Â°C\nğŸ¥¶ Odczuwalna: ${w.main.feels_like}Â°C\nğŸ“‰ Minimalna: ${w.main.temp_min}Â°C\nğŸ“ˆ Maksymalna: ${w.main.temp_max}Â°C\n\nğŸ’§ WilgotnoÅ›Ä‡: ${w.main.humidity}%\nğŸ§­ Wiatr: ${w.wind.speed} m/s (kierunek ${w.wind.deg}Â°)\nâ˜ï¸ Zachmurzenie: ${w.clouds.all}%\nğŸŒ« WidocznoÅ›Ä‡: ${w.visibility} m\n\nCiÅ›nienie: ${w.main.pressure} hPa\n`.trim()\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -240,
        -32
      ],
      "id": "15451321-e673-47af-ab32-dc889450b26a",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "chatId": "={{ $json.id_chat }}",
        "text": "={{ $('Code in JavaScript').item.json.message }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        208,
        -32
      ],
      "id": "6cfb83c0-402d-4634-983f-e70596042ee9",
      "name": "Send a text message",
      "webhookId": "f9c7be62-d9f7-489b-ad27-4c8e4d8275c7",
      "credentials": {
        "telegramApi": {
          "id": "gFqrqvMMuykchDgs",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "r5iHFZ9vD734mOPl",
          "mode": "list",
          "cachedResultName": "n8n",
          "cachedResultUrl": "/projects/bObCSV5kAX5lUQ0D/datatables/r5iHFZ9vD734mOPl"
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -16,
        -32
      ],
      "id": "eb3858a9-2f6b-49d7-b389-87a8d3b047e0",
      "name": "Get row(s)"
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "OpenWeatherMap",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenWeatherMap": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Get row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "fc1ba0345969f7228871df9e64b3b47e4f43ee33b19ce42717b44162e39dba6e"
  }
}
